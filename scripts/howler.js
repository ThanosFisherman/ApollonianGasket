/*! howler.js v2.2.4 | (c) 2013-2020, James Simpson of GoldFire Studios | MIT License | howlerjs.com */!function(){"use strict";s=function(){this.init()},s.prototype={init:function(){var t=this||e;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){if(n=this||e,t=parseFloat(t),n.ctx||i(),void 0!==t&&t>=0&&t<=1){if(n._volume=t,n._muted)return n;n.usingWebAudio&&n.masterGain.gain.setValueAtTime(t,e.ctx.currentTime);for(s=0;s<n._howls.length;s++)if(!n._howls[s]._webAudio)for(var n,s,o,r=n._howls[s]._getSoundIds(),a=0;a<r.length;a++)o=n._howls[s]._soundById(r[a]),o&&o._node&&(o._node.volume=o._volume*t);return n}return n._volume},mute:function(t){n=this||e,n.ctx||i(),n._muted=t,n.usingWebAudio&&n.masterGain.gain.setValueAtTime(t?0:n._volume,e.ctx.currentTime);for(s=0;s<n._howls.length;s++)if(!n._howls[s]._webAudio)for(var n,s,o,r=n._howls[s]._getSoundIds(),a=0;a<r.length;a++)o=n._howls[s]._soundById(r[a]),o&&o._node&&(o._node.muted=!!t||o._muted);return n},stop:function(){for(var t=this||e,n=0;n<t._howls.length;n++)t._howls[n].stop();return t},unload:function(){for(var t=this||e,n=t._howls.length-1;n>=0;n--)t._howls[n].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,i()),t},codecs:function(t){return(this||e)._codecs[t.replace(/^x-/,"")]},_setup:function(){var n,t=this||e;if(t.state=t.ctx?t.ctx.state||"suspended":"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{n=new Audio,void 0===n.oncanplaythrough&&(t._canPlayEvent="canplay")}catch{t.noAudio=!0}else t.noAudio=!0;try{n=new Audio,n.muted&&(t.noAudio=!0)}catch{}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var n=this||e,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch{return n}if(!t||"function"!=typeof t.canPlayType)return n;var o=t.canPlayType("audio/mpeg;").replace(/^no$/,""),s=n._navigator?n._navigator.userAgent:"",i=s.match(/OPR\/(\d+)/g),c=i&&parseInt(i[0].split("/")[1],10)<33,l=-1!==s.indexOf("Safari")&&-1===s.indexOf("Chrome"),a=s.match(/Version\/(.*?) /),r=l&&a&&parseInt(a[1],10)<15;return n._codecs={mp3:!(c||!o&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!o,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!r&&!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!r&&!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},n},_unlockAudio:function(){var n,t=this||e;if(!t._audioUnlocked&&t.ctx)return t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050),n=function(){for(;t._html5AudioPool.length<t.html5PoolSize;)try{a=new Audio,a._unlocked=!0,t._releaseHtml5Audio(a)}catch{t.noAudio=!0;break}for(o=0;o<t._howls.length;o++)if(!t._howls[o]._webAudio)for(var s,o,i,a,c=t._howls[o]._getSoundIds(),r=0;r<c.length;r++)i=t._howls[o]._soundById(c[r]),i&&i._node&&!i._node._unlocked&&(i._node._unlocked=!0,i._node.load());t._autoResume(),s=t.ctx.createBufferSource(),s.buffer=t._scratchBuffer,s.connect(t.ctx.destination),void 0===s.start?s.noteOn(0):s.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),s.onended=function(){s.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",n,!0),document.removeEventListener("touchend",n,!0),document.removeEventListener("click",n,!0),document.removeEventListener("keydown",n,!0);for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("unlock")}},document.addEventListener("touchstart",n,!0),document.addEventListener("touchend",n,!0),document.addEventListener("click",n,!0),document.addEventListener("keydown",n,!0),t},_obtainHtml5Audio:function(){var t,n=this||e;return n._html5AudioPool.length?n._html5AudioPool.pop():(t=(new Audio).play(),t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio)},_releaseHtml5Audio:function(t){var n=this||e;return t._unlocked&&n._html5AudioPool.push(t),n},_autoSuspend:function(){var n,s,t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&e.usingWebAudio){for(n=0;n<t._howls.length;n++)if(t._howls[n]._webAudio)for(s=0;s<t._howls[n]._sounds.length;s++)if(!t._howls[n]._sounds[s]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout(function(){if(t.autoSuspend){t._suspendTimer=null,t.state="suspending";var e=function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())};t.ctx.suspend().then(e,e)}},3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&e.usingWebAudio)return"running"===t.state&&"interrupted"!==t.ctx.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state||"running"===t.state&&"interrupted"===t.ctx.state?(t.ctx.resume().then(function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")}),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var n,s,e=new s,o=function(e){var t=this;if(!e.src||0===e.src.length)return void console.error("An array of source files must be passed with any new Howl.");t.init(e)};o.prototype={init:function(t){var n=this;return e.ctx||i(),n._autoplay=t.autoplay||!1,n._format="string"!=typeof t.format?t.format:[t.format],n._html5=t.html5||!1,n._muted=t.mute||!1,n._loop=t.loop||!1,n._pool=t.pool||5,n._preload="boolean"!=typeof t.preload&&"metadata"!==t.preload||t.preload,n._rate=t.rate||1,n._sprite=t.sprite||{},n._src="string"!=typeof t.src?t.src:[t.src],n._volume=void 0!==t.volume?t.volume:1,n._xhr={method:t.xhr&&t.xhr.method?t.xhr.method:"GET",headers:t.xhr&&t.xhr.headers?t.xhr.headers:null,withCredentials:!!t.xhr&&!!t.xhr.withCredentials&&t.xhr.withCredentials},n._duration=0,n._state="unloaded",n._sounds=[],n._endTimers={},n._queue=[],n._playLock=!1,n._onend=t.onend?[{fn:t.onend}]:[],n._onfade=t.onfade?[{fn:t.onfade}]:[],n._onload=t.onload?[{fn:t.onload}]:[],n._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],n._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],n._onpause=t.onpause?[{fn:t.onpause}]:[],n._onplay=t.onplay?[{fn:t.onplay}]:[],n._onstop=t.onstop?[{fn:t.onstop}]:[],n._onmute=t.onmute?[{fn:t.onmute}]:[],n._onvolume=t.onvolume?[{fn:t.onvolume}]:[],n._onrate=t.onrate?[{fn:t.onrate}]:[],n._onseek=t.onseek?[{fn:t.onseek}]:[],n._onunlock=t.onunlock?[{fn:t.onunlock}]:[],n._onresume=[],n._webAudio=e.usingWebAudio&&!n._html5,void 0!==e.ctx&&e.ctx&&e.autoUnlock&&e._unlockAudio(),e._howls.push(n),n._autoplay&&n._queue.push({event:"play",action:function(){n.play()}}),n._preload&&"none"!==n._preload&&n.load(),n},load:function(){var s,o,a,t=this,i=null;if(e.noAudio)return void t._emit("loaderror",null,"No audio support.");"string"==typeof t._src&&(t._src=[t._src]);for(o=0;o<t._src.length;o++){if(t._format&&t._format[o])s=t._format[o];else{if("string"!=typeof(a=t._src[o])){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}s=/^data:audio\/([^;,]+);/i.exec(a),s||(s=/\.([^.]+)$/.exec(a.split("?",1)[0])),s&&(s=s[1].toLowerCase())}if(s||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),s&&e.codecs(s)){i=t._src[o];break}}return i?(t._src=i,t._state="loading","https:"===window.location.protocol&&"http:"===i.slice(0,5)&&(t._html5=!0,t._webAudio=!1),new n(t),t._webAudio&&c(t),t):void t._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(t,n){var o,i,c,l,d,u,f,p,g,b,s=this,r=null;if("number"==typeof t)r=t,t=null;else{if("string"==typeof t&&"loaded"===s._state&&!s._sprite[t])return null;if(void 0===t&&(t="__default",!s._playLock)){for(u=0,c=0;c<s._sounds.length;c++)s._sounds[c]._paused&&!s._sounds[c]._ended&&(u++,r=s._sounds[c]._id);1===u?t=null:r=null}}if(o=r?s._soundById(r):s._inactiveSound(),!o)return null;if(r&&!t&&(t=o._sprite||"__default"),"loaded"!==s._state)return o._sprite=t,o._ended=!1,d=o._id,s._queue.push({event:"play",action:function(){s.play(d)}}),d;if(r&&!o._paused)return n||s._loadQueue("play"),o._id;s._webAudio&&e._autoResume();var a=Math.max(0,o._seek>0?o._seek:s._sprite[t][0]/1e3),h=Math.max(0,(s._sprite[t][0]+s._sprite[t][1])/1e3-a),m=1e3*h/Math.abs(o._rate),j=s._sprite[t][0]/1e3,v=(s._sprite[t][0]+s._sprite[t][1])/1e3;return o._sprite=t,o._ended=!1,l=function(){o._paused=!1,o._seek=a,o._start=j,o._stop=v,o._loop=!!o._loop||!!s._sprite[t][2]},a>=v?void s._ended(o):(i=o._node,s._webAudio?(f=function(){s._playLock=!1,l(),s._refreshBuffer(o);var t=o._muted||s._muted?0:o._volume;i.gain.setValueAtTime(t,e.ctx.currentTime),o._playStart=e.ctx.currentTime,void 0===i.bufferSource.start?o._loop?i.bufferSource.noteGrainOn(0,a,86400):i.bufferSource.noteGrainOn(0,a,h):o._loop?i.bufferSource.start(0,a,86400):i.bufferSource.start(0,a,h),m!==1/0&&(s._endTimers[o._id]=setTimeout(s._ended.bind(s,o),m)),n||setTimeout(function(){s._emit("play",o._id),s._loadQueue()},0)},"running"===e.state&&"interrupted"!==e.ctx.state?f():(s._playLock=!0,s.once("resume",f),s._clearTimer(o._id))):(p=function(){i.currentTime=a,i.muted=o._muted||s._muted||e._muted||i.muted,i.volume=o._volume*e.volume(),i.playbackRate=o._rate;try{var r=i.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(s._playLock=!0,l(),r.then(function(){s._playLock=!1,i._unlocked=!0,n?s._loadQueue():s._emit("play",o._id)}).catch(function(){s._playLock=!1,s._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),o._ended=!0,o._paused=!0})):n||(s._playLock=!1,l(),s._emit("play",o._id)),i.playbackRate=o._rate,i.paused)return void s._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||o._loop?s._endTimers[o._id]=setTimeout(s._ended.bind(s,o),m):(s._endTimers[o._id]=function(){s._ended(o),i.removeEventListener("ended",s._endTimers[o._id],!1)},i.addEventListener("ended",s._endTimers[o._id],!1))}catch(e){s._emit("playerror",o._id,e)}},"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===i.src&&(i.src=s._src,i.load()),b=window&&window.ejecta||!i.readyState&&e._navigator.isCocoonJS,i.readyState>=3||b?p():(s._playLock=!0,s._state="loading",g=function(){s._state="loaded",p(),i.removeEventListener(e._canPlayEvent,g,!1)},i.addEventListener(e._canPlayEvent,g,!1),s._clearTimer(o._id))),o._id)},pause:function(e){if(n=this,"loaded"!==n._state||n._playLock)return n._queue.push({event:"pause",action:function(){n.pause(e)}}),n;for(var t,n,o=n._getSoundIds(e),s=0;s<o.length;s++){if(n._clearTimer(o[s]),t=n._soundById(o[s]),t&&!t._paused&&(t._seek=n.seek(o[s]),t._rateSeek=0,t._paused=!0,n._stopFade(o[s]),t._node))if(n._webAudio){if(!t._node.bufferSource)continue;void 0===t._node.bufferSource.stop?t._node.bufferSource.noteOff(0):t._node.bufferSource.stop(0),n._cleanBuffer(t._node)}else isNaN(t._node.duration)&&t._node.duration!==1/0||t._node.pause();arguments[1]||n._emit("pause",t?t._id:null)}return n},stop:function(e,t){if(s=this,"loaded"!==s._state||s._playLock)return s._queue.push({event:"stop",action:function(){s.stop(e)}}),s;for(var n,s,i=s._getSoundIds(e),o=0;o<i.length;o++)s._clearTimer(i[o]),n=s._soundById(i[o]),n&&(n._seek=n._start||0,n._rateSeek=0,n._paused=!0,n._ended=!0,s._stopFade(i[o]),n._node&&(s._webAudio?n._node.bufferSource&&(void 0===n._node.bufferSource.stop?n._node.bufferSource.noteOff(0):n._node.bufferSource.stop(0),s._cleanBuffer(n._node)):isNaN(n._node.duration)&&n._node.duration!==1/0||(n._node.currentTime=n._start||0,n._node.pause(),n._node.duration===1/0&&s._clearSound(n._node))),t||s._emit("stop",n._id));return s},mute:function(t,n){if(s=this,"loaded"!==s._state||s._playLock)return s._queue.push({event:"mute",action:function(){s.mute(t,n)}}),s;if(void 0===n){if("boolean"!=typeof t)return s._muted;s._muted=t}for(var s,o,a=s._getSoundIds(n),i=0;i<a.length;i++)o=s._soundById(a[i]),o&&(o._muted=t,o._interval&&s._stopFade(o._id),s._webAudio&&o._node?o._node.gain.setValueAtTime(t?0:o._volume,e.ctx.currentTime):o._node&&(o._node.muted=!!e._muted||t),s._emit("mute",o._id));return s},volume:function(){var s,o,i,a,t=this,n=arguments;if(0===n.length)return t._volume;if(1===n.length||2===n.length&&void 0===n[1]?t._getSoundIds().indexOf(n[0])>=0?o=parseInt(n[0],10):i=parseFloat(n[0]):n.length>=2&&(i=parseFloat(n[0]),o=parseInt(n[1],10)),!(void 0!==i&&i>=0&&i<=1))return s=o?t._soundById(o):t._sounds[0],s?s._volume:0;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"volume",action:function(){t.volume.apply(t,n)}}),t;void 0===o&&(t._volume=i);for(o=t._getSoundIds(o),a=0;a<o.length;a++)(s=t._soundById(o[a]))&&(s._volume=i,n[2]||t._stopFade(o[a]),t._webAudio&&s._node&&!s._muted?s._node.gain.setValueAtTime(i,e.ctx.currentTime):s._node&&!s._muted&&(s._node.volume=i*e.volume()),t._emit("volume",s._id));return t},fade:function(t,n,s,o){if(i=this,"loaded"!==i._state||i._playLock)return i._queue.push({event:"fade",action:function(){i.fade(t,n,s,o)}}),i;t=Math.min(Math.max(0,parseFloat(t)),1),n=Math.min(Math.max(0,parseFloat(n)),1),s=parseFloat(s),i.volume(t,o);for(var i,a,l,d,c=i._getSoundIds(o),r=0;r<c.length;r++)a=i._soundById(c[r]),a&&((o||i._stopFade(c[r]),i._webAudio&&!a._muted)&&(l=e.ctx.currentTime,d=l+s/1e3,a._volume=t,a._node.gain.setValueAtTime(t,l),a._node.gain.linearRampToValueAtTime(n,d)),i._startFadeInterval(a,t,n,s,c[r],void 0===o));return i},_startFadeInterval:function(e,t,n,s,o,i){var r=this,a=t,c=n-t,l=Math.abs(c/.01),u=Math.max(4,l>0?s/l:s),d=Date.now();e._fadeTo=n,e._interval=setInterval(function(){var o=(Date.now()-d)/s;d=Date.now(),a+=c*o,a=Math.round(100*a)/100,a=c<0?Math.max(n,a):Math.min(n,a),r._webAudio?e._volume=a:r.volume(a,e._id,!0),i&&(r._volume=a),(n<t&&a<=n||n>t&&a>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,r.volume(n,e._id),r._emit("fade",e._id))},u)},_stopFade:function(t){var s=this,n=s._soundById(t);return n&&n._interval&&(s._webAudio&&n._node.gain.cancelScheduledValues(e.ctx.currentTime),clearInterval(n._interval),n._interval=null,s.volume(n._fadeTo,t),n._fadeTo=null,s._emit("fade",t)),s},loop:function(){var e,s,o,i,a,t=this,n=arguments;if(0===n.length)return t._loop;if(1===n.length){if("boolean"!=typeof n[0])return!!(e=t._soundById(parseInt(n[0],10)))&&e._loop;o=n[0],t._loop=o}else 2===n.length&&(o=n[0],a=parseInt(n[1],10));for(i=t._getSoundIds(a),s=0;s<i.length;s++)(e=t._soundById(i[s]))&&(e._loop=o,t._webAudio&&e._node&&e._node.bufferSource&&(e._node.bufferSource.loop=o,o&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop,t.playing(i[s])&&(t.pause(i[s],!0),t.play(i[s],!0)))));return t},rate:function(){var n,s,o,a,r,c,t=this,i=arguments;if(0===i.length?s=t._sounds[0]._id:1===i.length?(r=t._getSoundIds(),c=r.indexOf(i[0]),c>=0?s=parseInt(i[0],10):a=parseFloat(i[0])):2===i.length&&(a=parseFloat(i[0]),s=parseInt(i[1],10)),"number"!=typeof a)return n=t._soundById(s),n?n._rate:t._rate;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"rate",action:function(){t.rate.apply(t,i)}}),t;void 0===s&&(t._rate=a);for(s=t._getSoundIds(s),o=0;o<s.length;o++)if(n=t._soundById(s[o])){t.playing(s[o])&&(n._rateSeek=t.seek(s[o]),n._playStart=t._webAudio?e.ctx.currentTime:n._playStart),n._rate=a,t._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(a,e.ctx.currentTime):n._node&&(n._node.playbackRate=a);var l=t.seek(s[o]),d=(t._sprite[n._sprite][0]+t._sprite[n._sprite][1])/1e3-l,u=1e3*d/Math.abs(n._rate);!t._endTimers[s[o]]&&n._paused||(t._clearTimer(s[o]),t._endTimers[s[o]]=setTimeout(t._ended.bind(t,n),u)),t._emit("rate",n._id)}return t},seek:function(){var n,s,i,a,r,c,l,d,u,h,t=this,o=arguments;if(0===o.length?t._sounds.length&&(s=t._sounds[0]._id):1===o.length?(l=t._getSoundIds(),d=l.indexOf(o[0]),d>=0?s=parseInt(o[0],10):t._sounds.length&&(s=t._sounds[0]._id,i=parseFloat(o[0]))):2===o.length&&(i=parseFloat(o[0]),s=parseInt(o[1],10)),void 0===s)return 0;if("number"==typeof i&&("loaded"!==t._state||t._playLock))return t._queue.push({event:"seek",action:function(){t.seek.apply(t,o)}}),t;if(n=t._soundById(s),n){if(!("number"==typeof i&&i>=0))return t._webAudio?(u=t.playing(s)?e.ctx.currentTime-n._playStart:0,h=n._rateSeek?n._rateSeek-n._seek:0,n._seek+(h+u*Math.abs(n._rate))):n._node.currentTime;a=t.playing(s),a&&t.pause(s,!0),n._seek=i,n._ended=!1,t._clearTimer(s),t._webAudio||!n._node||isNaN(n._node.duration)||(n._node.currentTime=i),r=function(){a&&t.play(s,!0),t._emit("seek",s)},a&&!t._webAudio?(c=function(){t._playLock?setTimeout(c,0):r()},setTimeout(c,0)):r()}return t},playing:function(e){var t,s,n=this;if("number"==typeof e)return s=n._soundById(e),!!s&&!s._paused;for(t=0;t<n._sounds.length;t++)if(!n._sounds[t]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,s=t._soundById(e);return s&&(n=t._sprite[s._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var i,a,o=this,s=o._sounds,n=0;n<s.length;n++)s[n]._paused||o.stop(s[n]._id),o._webAudio||(o._clearSound(s[n]._node),s[n]._node.removeEventListener("error",s[n]._errorFn,!1),s[n]._node.removeEventListener(e._canPlayEvent,s[n]._loadFn,!1),s[n]._node.removeEventListener("ended",s[n]._endFn,!1),e._releaseHtml5Audio(s[n]._node)),delete s[n]._node,o._clearTimer(s[n]._id);i=e._howls.indexOf(o),i>=0&&e._howls.splice(i,1),a=!0;for(n=0;n<e._howls.length;n++)if(e._howls[n]._src===o._src||o._src.indexOf(e._howls[n]._src)>=0){a=!1;break}return t&&a&&delete t[o._src],e.noAudio=!1,o._state="unloaded",o._sounds=[],o=null,null},on:function(e,t,n,s){var o=this,i=o["_on"+e];return"function"==typeof t&&i.push(s?{id:n,fn:t,once:s}:{id:n,fn:t}),o},off:function(e,t,n){var i,r,o=this,a=o["_on"+e],s=0;if("number"==typeof t&&(n=t,t=null),t||n){for(s=0;s<a.length;s++)if(r=n===a[s].id,t===a[s].fn&&r||!t&&r){a.splice(s,1);break}}else if(e)o["_on"+e]=[];else{i=Object.keys(o);for(s=0;s<i.length;s++)0===i[s].indexOf("_on")&&Array.isArray(o[i[s]])&&(o[i[s]]=[])}return o},once:function(e,t,n){var s=this;return s.on(e,t,n,1),s},_emit:function(e,t,n){for(var i=this,o=i["_on"+e],s=o.length-1;s>=0;s--)o[s].id&&o[s].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(i,o[s].fn),0),o[s].once&&i.off(e,o[s].fn,o[s].id));return i._loadQueue(e),i},_loadQueue:function(e){var n,t=this;return t._queue.length>0&&(n=t._queue[0],n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()),t},_ended:function(t){var s,o,n=this,i=t._sprite;return!n._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop?(setTimeout(n._ended.bind(n,t),100),n):(s=!!t._loop||!!n._sprite[i][2],(n._emit("end",t._id),!n._webAudio&&s&&n.stop(t._id,!0).play(t._id),n._webAudio&&s)&&(n._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=e.ctx.currentTime,o=1e3*(t._stop-t._start)/Math.abs(t._rate),n._endTimers[t._id]=setTimeout(n._ended.bind(n,t),o)),n._webAudio&&!s&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,n._clearTimer(t._id),n._cleanBuffer(t._node),e._autoSuspend()),n._webAudio||s||n.stop(t._id,!0),n)},_clearTimer:function(e){var n,t=this;return t._endTimers[e]&&("function"!=typeof t._endTimers[e]?clearTimeout(t._endTimers[e]):(n=t._soundById(e),n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)),delete t._endTimers[e]),t},_soundById:function(e){for(var n=this,t=0;t<n._sounds.length;t++)if(e===n._sounds[t]._id)return n._sounds[t];return null},_inactiveSound:function(){var t,e=this;e._drain();for(t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new n(e)},_drain:function(){var t=this,s=t._pool,n=0,e=0;if(!(t._sounds.length<s)){for(e=0;e<t._sounds.length;e++)t._sounds[e]._ended&&n++;for(e=t._sounds.length-1;e>=0;e--){if(n<=s)return;t._sounds[e]._ended&&(t._webAudio&&t._sounds[e]._node&&t._sounds[e]._node.disconnect(0),t._sounds.splice(e,1),n--)}}},_getSoundIds:function(e){if(t=this,void 0===e){for(var t,s=[],n=0;n<t._sounds.length;n++)s.push(t._sounds[n]._id);return s}return[e]},_refreshBuffer:function(n){var s=this;return n._node.bufferSource=e.ctx.createBufferSource(),n._node.bufferSource.buffer=t[s._src],n._panner?n._node.bufferSource.connect(n._panner):n._node.bufferSource.connect(n._node),n._node.bufferSource.loop=n._loop,n._loop&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop||0),n._node.bufferSource.playbackRate.setValueAtTime(n._rate,e.ctx.currentTime),s},_cleanBuffer:function(t){var n=this,s=e._navigator&&e._navigator.vendor.indexOf("Apple")>=0;if(!t.bufferSource)return n;if(e._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),s))try{t.bufferSource.buffer=e._scratchBuffer}catch{}return t.bufferSource=null,n},_clearSound:function(t){/MSIE |Trident\//.test(e._navigator&&e._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}},n=function(e){this._parent=e,this.init()},n.prototype={init:function(){var t=this,n=t._parent;return t._muted=n._muted,t._loop=n._loop,t._volume=n._volume,t._rate=n._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++e._counter,n._sounds.push(t),t.create(),t},create:function(){var t=this,n=t._parent,s=e._muted||t._muted||t._parent._muted?0:t._volume;return n._webAudio?(t._node=void 0===e.ctx.createGain?e.ctx.createGainNode():e.ctx.createGain(),t._node.gain.setValueAtTime(s,e.ctx.currentTime),t._node.paused=!0,t._node.connect(e.masterGain)):e.noAudio||(t._node=e._obtainHtml5Audio(),t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(e._canPlayEvent,t._loadFn,!1),t._endFn=t._endListener.bind(t),t._node.addEventListener("ended",t._endFn,!1),t._node.src=n._src,t._node.preload=!0===n._preload?"auto":n._preload,t._node.volume=s*e.volume(),t._node.load()),t},reset:function(){var t=this,n=t._parent;return t._muted=n._muted,t._loop=n._loop,t._volume=n._volume,t._rate=n._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++e._counter,t},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var n=this,t=n._parent;t._duration=Math.ceil(10*n._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),n._node.removeEventListener(e._canPlayEvent,n._loadFn,!1)},_endListener:function(){var t=this,e=t._parent;e._duration===1/0&&(e._duration=Math.ceil(10*t._node.duration)/10,e._sprite.__default[1]===1/0&&(e._sprite.__default[1]=1e3*e._duration),e._ended(t)),t._node.removeEventListener("ended",t._endFn,!1)}};var t={},c=function(e){if(s=e._src,t[s])return e._duration=t[s].duration,void r(e);if(/^data:[^;]+;base64,/.test(s)){for(var n,s,i=atob(s.split(",")[1]),c=new Uint8Array(i.length),o=0;o<i.length;++o)c[o]=i.charCodeAt(o);a(c.buffer,e)}else n=new XMLHttpRequest,n.open(e._xhr.method,s,!0),n.withCredentials=e._xhr.withCredentials,n.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(t){n.setRequestHeader(t,e._xhr.headers[t])}),n.onload=function(){var t=(n.status+"")[0];if("0"!==t&&"2"!==t&&"3"!==t)return void e._emit("loaderror",null,"Failed loading audio file with status: "+n.status+".");a(n.response,e)},n.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete t[s],e.load())},l(n)},l=function(e){try{e.send()}catch{e.onerror()}},a=function(n,s){var o=function(){s._emit("loaderror",null,"Decoding audio data failed.")},i=function(e){e&&s._sounds.length>0?(t[s._src]=e,r(s,e)):o()};"undefined"!=typeof Promise&&1===e.ctx.decodeAudioData.length?e.ctx.decodeAudioData(n).then(i).catch(o):e.ctx.decodeAudioData(n,i,o)},r=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},i=function(){if(e.usingWebAudio){try{"undefined"!=typeof AudioContext?e.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?e.ctx=new webkitAudioContext:e.usingWebAudio=!1}catch{e.usingWebAudio=!1}e.ctx||(e.usingWebAudio=!1);var s,o=/iP(hone|od|ad)/.test(e._navigator&&e._navigator.platform),t=e._navigator&&e._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;o&&n&&n<9&&(s=/safari/.test(e._navigator&&e._navigator.userAgent.toLowerCase()),e._navigator&&!s&&(e.usingWebAudio=!1)),e.usingWebAudio&&(e.masterGain=void 0===e.ctx.createGain?e.ctx.createGainNode():e.ctx.createGain(),e.masterGain.gain.setValueAtTime(e._muted?0:e._volume,e.ctx.currentTime),e.masterGain.connect(e.ctx.destination)),e._setup()}};"function"==typeof define&&define.amd&&define([],function(){return{Howler:e,Howl:o}}),"undefined"!=typeof exports&&(exports.Howler=e,exports.Howl=o),"undefined"!=typeof global?(global.HowlerGlobal=s,global.Howler=e,global.Howl=o,global.Sound=n):"undefined"!=typeof window&&(window.HowlerGlobal=s,window.Howler=e,window.Howl=o,window.Sound=n)}();/*! Spatial Plugin */!function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var n,t=this;if(!t.ctx||!t.ctx.listener)return t;for(n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var s=this;return s.ctx&&s.ctx.listener?(t="number"!=typeof t?s._pos[1]:t,n="number"!=typeof n?s._pos[2]:n,"number"!=typeof e?s._pos:(s._pos=[e,t,n],void 0!==s.ctx.listener.positionX?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]),s)):s},HowlerGlobal.prototype.orientation=function(e,t,n,s,o,i){var r,a=this;return!a.ctx||!a.ctx.listener?a:(r=a._orientation,t="number"!=typeof t?r[1]:t,n="number"!=typeof n?r[2]:n,s="number"!=typeof s?r[3]:s,o="number"!=typeof o?r[4]:o,i="number"!=typeof i?r[5]:i,"number"!=typeof e?r:(a._orientation=[e,t,n,s,o,i],void 0!==a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(e,t,n,s,o,i),a))},Howl.prototype.init=function(e){return function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,n){if(o=this,!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"stereo",action:function(){o.stereo(t,n)}}),o;if(i=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo",void 0===n){if("number"!=typeof t)return o._stereo;o._stereo=t,o._pos=[t,0,0]}for(var s,o,i,r=o._getSoundIds(n),a=0;a<r.length;a++)if(s=o._soundById(r[a]),s){if("number"!=typeof t)return s._stereo;s._stereo=t,s._pos=[t,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||e(s,i),"spatial"===i?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(t,0,0):s._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),o._emit("stereo",s._id)}return o},Howl.prototype.pos=function(t,n,s,o){if(a=this,!a._webAudio)return a;if("loaded"!==a._state)return a._queue.push({event:"pos",action:function(){a.pos(t,n,s,o)}}),a;if(n="number"!=typeof n?0:n,s="number"!=typeof s?-.5:s,void 0===o){if("number"!=typeof t)return a._pos;a._pos=[t,n,s]}for(var i,a,c=a._getSoundIds(o),r=0;r<c.length;r++)if(i=a._soundById(c[r]),i){if("number"!=typeof t)return i._pos;i._pos=[t,n,s],i._node&&(i._panner&&!i._panner.pan||e(i,"spatial"),void 0!==i._panner.positionX?(i._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),i._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),i._panner.positionZ.setValueAtTime(s,Howler.ctx.currentTime)):i._panner.setPosition(t,n,s)),a._emit("pos",i._id)}return a},Howl.prototype.orientation=function(t,n,s,o){if(i=this,!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(t,n,s,o)}}),i;if(n="number"!=typeof n?i._orientation[1]:n,s="number"!=typeof s?i._orientation[2]:s,void 0===o){if("number"!=typeof t)return i._orientation;i._orientation=[t,n,s]}for(var i,a,c=i._getSoundIds(o),r=0;r<c.length;r++)if(a=i._soundById(c[r]),a){if("number"!=typeof t)return a._orientation;a._orientation=[t,n,s],a._node&&(a._panner||(a._pos||(a._pos=i._pos||[0,0,-.5]),e(a,"spatial")),void 0!==a._panner.orientationX?(a._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),a._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),a._panner.orientationZ.setValueAtTime(s,Howler.ctx.currentTime)):a._panner.setOrientation(t,n,s)),i._emit("orientation",a._id)}return i},Howl.prototype.pannerAttr=function(){var t,s,o,i,r,c,l,n=this,a=arguments;if(!n._webAudio)return n;if(0===a.length)return n._pannerAttr;if(1===a.length){if("object"!=typeof a[0])return i=n._soundById(parseInt(a[0],10)),i?i._pannerAttr:n._pannerAttr;t=a[0],void 0===c&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),n._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:n._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:n._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:n._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:n._panningModel})}else 2===a.length&&(t=a[0],c=parseInt(a[1],10));for(l=n._getSoundIds(c),r=0;r<l.length;r++)(i=n._soundById(l[r]))&&(s=i._pannerAttr,s={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:s.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:s.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:s.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:s.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:s.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:s.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:s.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:s.panningModel},o=i._panner,o||(i._pos||(i._pos=n._pos||[0,0,-.5]),e(i,"spatial"),o=i._panner),o.coneInnerAngle=s.coneInnerAngle,o.coneOuterAngle=s.coneOuterAngle,o.coneOuterGain=s.coneOuterGain,o.distanceModel=s.distanceModel,o.maxDistance=s.maxDistance,o.refDistance=s.refDistance,o.rolloffFactor=s.rolloffFactor,o.panningModel=s.panningModel);return n},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var e=function(e,t){t=t||"spatial","spatial"===t?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()